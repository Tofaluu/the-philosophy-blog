<!DOCTYPE html>
<html>
  <head>
    <title>Blog Website</title>
    <link
      href="https://fonts.googleapis.com/css?family=Julius Sans One"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/general.css" />
    <link rel="stylesheet" href="styles/main-page.css" />
  </head>
  <body>
    <div class="fade-container">
      <h1 class="title">The Philosophy Blog</h1>

      <div class="article-section">
        <div class="section-title">Articles:</div>
        <a href="post.html" target="_self" class="link">
          <div class="posts">Francis Hutcheson - An analysis of beauty</div>
        </a>
        <!-- <a href="" target="_self" class="link">
          <div class="posts">Blog 2</div>
        </a>
        <a href="" target="_self" class="link">
          <div class="posts">Essay 3</div>
        </a>
        <a href="" target="_self" class="link">
          <div class="posts">Writing</div>
        </a>
        <a href="" target="_self" class="link">
          <div class="posts">Ponderings</div>
        </a> -->
      </div>
    </div>

    <script>
      document.querySelectorAll(".link").forEach(function (link) {
        link.addEventListener("click", function (event) {
          event.preventDefault(); // Prevent the default link behavior
          const targetUrl = this.href; // Get the URL of the clicked link
          document.querySelector(".fade-container").classList.add("fade-out");
          setTimeout(function () {
            window.location.href = targetUrl;
          }, 500); // Delay the navigation by 500ms (same as the transition duration)
        });
      });

      window.addEventListener("pageshow", function (event) {
        const fadeContainer = document.querySelector(".fade-container");

        if (event.persisted || event.type === "pageshow") {
          // Force a reflow to reset the animation
          fadeContainer.classList.remove("fade-in", "fade-out");
          void fadeContainer.offsetWidth; // Trigger reflow

          // Add the fade-in class to trigger the fade-in effect
          fadeContainer.classList.add("fade-in");

          // Optionally, remove the fade-in class after the animation is done
          setTimeout(function () {
            fadeContainer.classList.remove("fade-in");
          }, 500); // 500ms should match your fade-in duration
        }
      });
    </script>
  </body>
</html>
